@PART[nflv-engine-m1d-1]:NEEDS[NearFutureLaunchVehicles]:FOR[NF_Realism]
{
  // Title and description

  real_title = Merlin 1D
  real_manufacturer = SpaceX
  real_description = The Merlin 1D is a modern but simple gas generator engine capable of multiple restarts. Its compact size allows for clustering, giving it great flexibility for booster applications. Nine of these engines are used on the Falcon 9 first stage.

  // Specs

  // model nozzle diameter = 0.42123 m
  // real nozzle diameter = ~0.95 m
  // to get 0.625x we would want a scale of 1.4, but to make the mount 0.9375 m we use 1.5

  @rescaleFactor = 1.5
  @mass = 0.343 // 73%, 470 Kg. Merlin 1C
  @bulkheadProfiles = size0p5, srf

  @MODULE[ModuleEngines*]
  {
      @maxThrust = 185.6 // 25% thrust scaling. 742.4 kN.

      !atmosphereCurve {}
      atmosphereCurve
      {
          key = 0 311
          key = 1 282
          key = 5 0.1
      }
  }

  MODULE
  {
    name = ModuleB9PartSwitch
    switcherDescription = Engine Config
    switcherDescriptionPlural = Engine Configs
    moduleID = engineSwitch

    SUBTYPE
    {
      name = M1D
      title = KS-1M
      descriptionSummary = Baseline version of the KS-1M engine.
      real_title = Merlin 1D
      real_descriptionSummary = Baseline version of the Merlin 1D, as used on the Falcon 9 v1.1.
      descriptionDetail = <b>Thrust:</b> 168.3 kN ASL / 185.6 kN Vac.\n<b>Isp:</b> 282 s ASL / 311 s Vac.
      defaultSubtypePriority = 0
    }

    SUBTYPE
    {
      name = M1D-P
      title = KS-1M+
      descriptionSummary = Thrust and efficiency improvements.
      real_title = Merlin 1D+
      real_descriptionSummary = Thrust and efficiency improvements. Used on the Falcon 9 v1.2, also known as Full Thrust.
      descriptionDetail = <b>Thrust:</b> 211.3 kN ASL / 228.5 kN Vac.\n<b>Isp:</b> 288.5 s ASL / 312 s Vac.
      defaultSubtypePriority = 1

      MODULE
      {
        IDENTIFIER
        {
          name = ModuleEnginesFX
        }

        DATA
        {
          maxThrust = 228.5 // 25% thrust scaling. 914.1 kN.

          atmosphereCurve
          {
            key = 0 312
            key = 1 288.5
            key = 5 0.1
          }
        }
      }
    }

    SUBTYPE
    {
      name = M1D-PP
      title = KS-1M++
      descriptionSummary = Improved model with even higher thrust and efficiency.
      real_title = Merlin 1D++
      real_descriptionSummary = Improved model with even higher thrust and efficiency. Powerplant of the Falcon 9 Block 5 first stage.
      descriptionDetail = <b>Thrust:</b> 225.8 kN ASL / 244.7 kN Vac.\n<b>Isp:</b> 290 s ASL / 314.3 s Vac.
      defaultSubtypePriority = 2

      MODULE
      {
        IDENTIFIER
        {
          name = ModuleEnginesFX
        }

        DATA
        {
          maxThrust = 244.7 // 25% thrust scaling. 978.6 kN.

          atmosphereCurve
          {
            key = 0 314.3
            key = 1 290
            key = 5 0.1
          }
        }
      }
    }
  }
}
